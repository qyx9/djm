(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/searchinput/searchinput"],{"2bd6":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"searchinput"},[a("view",{staticClass:"searchBox"},[a("view",{class:t.scorrllTop?"searchgoods searchgoods2":"searchgoods"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"text",value:"",placeholder:t.defaultKeyword,eventid:"dea7952e-0"},domProps:{value:t.value},on:{input:[function(e){e.target.composing||(t.value=e.target.value)},t.valueDt]}}),a("view",{staticClass:"searchbox",attrs:{eventid:"dea7952e-1"},on:{click:t.searchvalue}},[a("text",[t._v("搜索")])])]),t.vlean?a("image",{attrs:{src:"../../static/cha.png",mode:"widthFix",eventid:"dea7952e-2"},on:{click:t.clearDall}}):t._e()]),t.cleanstate?a("view",{staticClass:"searchHistory"},[a("view",{staticClass:"title"},[a("text",{staticStyle:{color:"#000000"}},[t._v("搜索记录")]),a("image",{attrs:{src:"../../static/shanchu.png",mode:"widthFix",eventid:"dea7952e-3"},on:{click:t.cleanSearch}})]),a("view",{staticClass:"content"},t._l(t.historyOld,function(e,s){return a("text",{key:s,attrs:{eventid:"dea7952e-4-"+s},on:{click:function(a){t.textH(e)}}},[t._v(t._s(e))])}))]):t._e(),t.goodstate?a("view",{staticClass:"searchHot"},[a("view",{staticClass:"title"},[a("text",{staticStyle:{color:"#000000"}},[t._v("热门搜索")]),a("image",{attrs:{src:t.hotstate?t.imgsrc:t.imgsrc2,mode:"widthFix",eventid:"dea7952e-5"},on:{click:t.imgurl}})]),t.hotstate?a("view",{staticClass:"content"},t._l(t.hotdata,function(e,s){return a("text",{key:s,attrs:{eventid:"dea7952e-6-"+s},on:{click:function(a){t.textH(e)}}},[t._v(t._s(e))])})):t._e(),t.hotstate?t._e():a("view",{staticClass:"tishi"},[a("text",[t._v("当前热门搜索已隐藏")])])]):t._e(),t.goodstate?t._e():a("good-flex",{attrs:{data:t.data,flexblean:t.flexblean,mpcomid:"dea7952e-0"}}),t.Null?a("view",{staticClass:"goodNull"},[t._v("没有相关的商品信息")]):t._e(),t.showloadMore?a("load-more",{attrs:{status:"加载中..."===t.loadMoreText?"loading":"",mpcomid:"dea7952e-1"}}):t._e()],1)},o=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return o})},"848d":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(a("504f")),o=n(a("a8c4")),i=a("340c");function n(t){return t&&t.__esModule?t:{default:t}}var l={components:{GoodFlex:s.default,LoadMore:o.default},data:function(){return{value:"",imgsrc:"../../static/yan.png",imgsrc2:"../../static/biyan.png",data:"",imgblean:!1,OldKeys:[],historyOld:[],flexblean:!0,pages:1,goodstate:!0,cleanstate:!0,showloadMore:!1,loadMoreText:"加载中...",hotdata:["苹果","梨子","西瓜","海苔"],hotstate:!0,scorrllTop:!1,defaultKeyword:"服装",Null:!1,vlean:!1}},methods:{searchvalue:function(){var e=this;this.goodstate=!1,this.cleanstate=!1,this.loadMoreText="加载中...";var a=this.value?this.value:this.defaultKeyword;t.getStorage({key:"OldKeys",success:function(s){console.log(s.data);var o=JSON.parse(s.data),i=o.indexOf(a);-1==i?o.unshift(a):(o.splice(i,1),o.unshift(a)),o.length>10&&o.pop(),t.setStorage({key:"OldKeys",data:JSON.stringify(o)}),e.historyOld=o},fail:function(s){var o=[a];t.setStorage({key:"OldKeys",data:JSON.stringify(o)}),e.historyOld=o}}),t.showLoading({title:"加载中..."}),console.log("OldKeys:",this.OldKeys);this.OldKeys;this.data=[],t.request({url:(0,i.requestip)()+"/thirdreturn/index/searchgoods?key_word="+a+"&page=1",method:"GET",data:{},success:function(a){console.log("搜索的数据：",a.data),e.data=a.data.goods_search_response.goods_list,""==a.data.goods_search_response.goods_list&&(e.Null=!0),t.hideLoading()},fail:function(){},complete:function(){}})},imgurl:function(){this.hotstate=!this.hotstate},cleanSearch:function(){var e=this;t.showModal({title:"提示",content:"你确定清除所以历史记录吗",success:function(a){a.confirm&&(t.removeStorageSync("OldKeys"),e.historyOld=[],e.cleanstate=!1)}})},textH:function(e){var a=this;this.goodstate=!1,this.cleanstate=!1,this.value=e,this.vlean=!0;var s=e;t.getStorage({key:"OldKeys",success:function(e){console.log(e.data);var o=JSON.parse(e.data),i=o.indexOf(s);-1==i?o.unshift(s):(o.splice(i,1),o.unshift(s)),o.length>10&&o.pop(),t.setStorage({key:"OldKeys",data:JSON.stringify(o)}),a.historyOld=o},fail:function(e){var o=[s];t.setStorage({key:"OldKeys",data:JSON.stringify(o)}),a.historyOld=o}}),t.request({url:(0,i.requestip)()+"/thirdreturn/index/searchgoods?key_word="+this.value+"&page=1",method:"GET",data:{},success:function(e){console.log("搜索的数据：",e.data),a.data=e.data.goods_search_response.goods_list,t.hideLoading(),""==e.data.goods_search_response.goods_list&&(a.Null=!0)},fail:function(){},complete:function(){}})},valueDt:function(){this.vlean=!0},clearDall:function(){this.value="",this.vlean=!1}},onLoad:function(e){var a=t.getStorageSync("OldKeys");this.OldKeys=t.getStorageSync("OldKeys"),""==a?this.cleanstate=!1:this.historyOld=JSON.parse(a),this.value=e.name,console.log("ssss",e.name),void 0!=e.name&&(this.searchvalue(),this.vlean=!0)},onReachBottom:function(){var e=this;this.pages+=1,this.showloadMore=!0,t.request({url:(0,i.requestip)()+"/thirdreturn/index/searchgoods?key_word="+this.value+"&page="+this.pages,method:"GET",data:{},success:function(t){console.log("wuxian:",t.data);for(var a=0;a<t.data.goods_search_response.goods_list.length;a++)e.data.push(t.data.goods_search_response.goods_list[a]);e.showloadMore=!1,0==t.data.goods_search_response.goods_list?(e.loadMoreText="没有更多数据了",e.showloadMore=!0):(e.loadMoreText="加载中...",e.showloadMore=!1)},fail:function(){},complete:function(){}})},onPageScroll:function(t){t.scrollTop>=40?this.scorrllTop=!0:this.scorrllTop=!1}};e.default=l}).call(this,a("6e42")["default"])},a55c:function(t,e,a){"use strict";var s=a("c06b"),o=a.n(s);o.a},aced:function(t,e,a){"use strict";a("12e0");var s=i(a("b0ce")),o=i(a("d520"));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(o.default))},c06b:function(t,e,a){},d520:function(t,e,a){"use strict";a.r(e);var s=a("2bd6"),o=a("f900");for(var i in o)"default"!==i&&function(t){a.d(e,t,function(){return o[t]})}(i);a("a55c");var n=a("2877"),l=Object(n["a"])(o["default"],s["a"],s["b"],!1,null,null,null);e["default"]=l.exports},f900:function(t,e,a){"use strict";a.r(e);var s=a("848d"),o=a.n(s);for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);e["default"]=o.a}},[["aced","common/runtime","common/vendor"]]]);