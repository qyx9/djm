{"version":3,"sources":["webpack:///D:/testhx/klpt/main.js","webpack:///D:/testhx/klpt/pages/testdraw/testdraw.vue?9307","webpack:///D:/testhx/klpt/pages/testdraw/testdraw.vue?8985","webpack:///D:/testhx/klpt/pages/testdraw/testdraw.vue?d3fc","webpack:///D:/testhx/klpt/pages/testdraw/testdraw.vue?5402","webpack:///D:/testhx/klpt/pages/testdraw/testdraw.vue","webpack:///D:/testhx/klpt/pages/testdraw/testdraw.vue?3d94","webpack:///D:/testhx/klpt/pages/testdraw/testdraw.vue?99c0"],"names":["Page","App","data","imgdatas","imgdata","drawIndex","canImg","preurl","name","methods","drawinvit","that","opId","uni","getStorageSync","request","url","method","openid","success","res","console","log","getImageInfo","src","path","ctd","createCanvasContext","drawImage","setFillStyle","fillRect","closePath","beginPath","setFontSize","fillText","stroke","draw","change","e","detail","current","saves","showLoading","title","canvasToTempFilePath","x","y","width","height","destWidth","destHeight","canvasId","tempFilePath","hideLoading","fail","onLoad","onShow"],"mappings":"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","file":"pages/testdraw/testdraw.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/testdraw/testdraw.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./testdraw.vue?vue&type=template&id=41bccba9&\"\nimport script from \"./testdraw.vue?vue&type=script&lang=js&\"\nexport * from \"./testdraw.vue?vue&type=script&lang=js&\"\nimport style0 from \"./testdraw.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX.1.4.1.20181228.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('41bccba9', component.options)\n    } else {\n      api.reload('41bccba9', component.options)\n    }\n    module.hot.accept(\"./testdraw.vue?vue&type=template&id=41bccba9&\", function () {\n      api.rerender('41bccba9', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"testhx/klpt/pages/testdraw/testdraw.vue\"\nexport default component.exports","import mod from \"-!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./testdraw.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./testdraw.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./testdraw.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./testdraw.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.1.4.1.20181228.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./testdraw.vue?vue&type=template&id=41bccba9&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport default{\n\tdata() {\n\t\treturn {\n\t\t\timgdatas:'https://img.dijiamai.net/media/catalog/category/appimg/invite/open.png',\n\t\t\timgdata:'',\n\t\t\tdrawIndex:0,\n\t\t\tdata:[0,1,2],\n\t\t\tcanImg:true,\n\t\t\tpreurl:'',\n\t\t\tname:'hello word'\n\t\t}\n\t},\n\tmethods: {\n\t\t// 画步绘图\n\t\tdrawinvit(){\n\t\t\tvar that=this;\n\t\t\tvar opId=uni.getStorageSync('weixiOpenId');\n\t\t\tvar that=this;\n\t\t\tuni.request({\n\t\t\t\turl: 'https://appserver.dijiamai.net/thirdreturn/index/getsyimage',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tdata: {\n\t\t\t\t\topenid:opId\n\t\t\t\t},\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tconsole.log('地址',res.data);\n\t\t\t\t    uni.getImageInfo({\n\t\t\t\t    \tsrc:res.data,\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t console.log(res);\n\t\t\t\t\t\t\t that.imgdata=res.path;\n\t\t\t\t\t\t\t uni.request({\n\t\t\t\t\t\t\t \turl: 'https://appserver.dijiamai.net/thirdreturn/index/getwxascodeunlimit?parent_id=2&channel=test4&customer_id=2',\n\t\t\t\t\t\t\t \tmethod: 'GET',\n\t\t\t\t\t\t\t \tdata: {},\n\t\t\t\t\t\t\t \tsuccess: res => {\n\t\t\t\t\t\t\t\t\tconsole.log('22222',res.data)\n\t\t\t\t\t\t\t\t\t uni.getImageInfo({\n\t\t\t\t\t\t\t\t\t\tsrc:res.data,\n\t\t\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('er',res);\n\t\t\t\t\t\t\t\t\t\t\tconst ctd=uni.createCanvasContext('contactImg');\n\t\t\t\t\t\t\t\t\t\t\tctd.drawImage(that.imgdata,0,0,375,606);\n\t\t\t\t\t\t\t\t\t\t\tctd.drawImage(res.path,50,20,100,100);\n\t\t\t\t\t\t\t\t\t\t\tctd.setFillStyle('green');\n\t\t\t\t\t\t\t\t\t\t\tctd.fillRect(10, 10, 150, 75,);\n\t\t\t\t\t\t\t\t\t\t\tctd.closePath();\n\t\t\t\t\t\t\t\t\t\t\tctd.beginPath();\n\t\t\t\t\t\t\t\t\t\t\tctd.setFillStyle('red');\n\t\t\t\t\t\t\t\t\t\t\tctd.setFontSize(40);\n\t\t\t\t\t\t\t\t\t\t\tctd.fillText(that.name,30,50)\n\t\t\t\t\t\t\t\t\t\t\tctd.stroke();\n\t\t\t\t\t\t\t\t\t\t\tctd.draw();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t });\n\t\t\t\t\t\t}\n\t\t\t\t    })\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tchange(e){\n\t\t\tconsole.log('滑',e);\n\t\t\tthis.drawIndex=e.detail.current;\n\t\t},\n\t\tsaves(){\n\t\t\tvar that=this;\n\t\t\tuni.showLoading({\n\t\t\t\ttitle:'努力生成中...'\n\t\t\t})\n\t\tuni.canvasToTempFilePath({\n\t\t\t  x: 0,\n\t\t\t  y: 0,\n\t\t\t  width: 375,\n\t\t\t  height: 606,\n\t\t\t  destWidth: 375,\n\t\t\t  destHeight: 606,\n\t\t\t  canvasId: 'contactImg',\n\t\t\t  success: function (res) {\n\t\t\t    // console.log(res.tempFilePath);\n\t\t\t\t\t\t\t\t// 得到图片的网络地址\n\t\t\t    that.preurl=res.tempFilePath;\n\t\t\t    that.canImg=false;\n\t\t\t\t// uni.setStorageSync('filePath',that.preurl);\n\t\t\t    uni.hideLoading()\n\t\t\t  },\n\t\t\t  fail: function (res) {\n\t\t\t    // console.log(res)\n\t\t\t  }\n\t\t\t})\n\t\t}\n\t},\n\tonLoad() {\n\t\tthis.drawinvit();\n\t},\n\tonShow() {\n\t\tthis.drawinvit();\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    {},\n    [\n      _c(\"canvas\", {\n        staticStyle: { width: \"375px\", height: \"606px\" },\n        attrs: { \"canvas-id\": \"contactImg\" }\n      }),\n      _c(\n        \"view\",\n        { staticClass: \"preview\", attrs: { hidden: _vm.canImg } },\n        [\n          _c(\"image\", {\n            staticClass: \"previewImg\",\n            attrs: { src: _vm.preurl, mode: \"widthFix\" }\n          }),\n          _c(\n            \"button\",\n            {\n              attrs: { type: \"primary\", eventid: \"56574ea3-0\" },\n              on: { click: _vm.save }\n            },\n            [_vm._v(\"保存分享图\")]\n          )\n        ],\n        1\n      ),\n      _c(\n        \"swiper\",\n        {\n          attrs: {\n            \"indicator-dots\": true,\n            interval: 3000,\n            duration: 1000,\n            current: _vm.drawIndex,\n            eventid: \"56574ea3-1\"\n          },\n          on: { change: _vm.change }\n        },\n        _vm._l(_vm.data, function(item, index) {\n          return _c(\n            \"swiper-item\",\n            { key: index, attrs: { mpcomid: \"56574ea3-0-\" + index } },\n            [\n              _c(\"image\", {\n                attrs: {\n                  src: _vm.drawIndex == index ? _vm.imgdata : _vm.imgdatas,\n                  mode: \"widthFix\"\n                }\n              })\n            ]\n          )\n        })\n      ),\n      _c(\n        \"view\",\n        { attrs: { eventid: \"56574ea3-2\" }, on: { click: _vm.saves } },\n        [_vm._v(\"画图\")]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}